import{F as t}from"./vendor.6b0643d3.js";import{ac as e}from"./index.b319bc6c.js";var n=[60,60,24,7,365/7/12,12];function r(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}function o(t,e){for(var r=t<0?1:0,o=t=Math.abs(t),i=0;t>=n[i]&&i<n.length;i++)t/=n[i];return(t=Math.floor(t))>(0===(i*=2)?9:1)&&(i+=1),e(t,i,o)[r].replace("%s",t.toString())}function i(t,e){return(+(e?r(e):new Date)-+r(t))/1e3}function a(t){return parseInt(t.getAttribute("timeago-id"))}var c={},p=function(t){clearTimeout(t),delete c[t]};function u(t,e,r,f){p(a(t));var l=f.relativeDate,s=f.minInterval,m=i(e,l);t.innerText=o(m,r);var d=setTimeout((function(){u(t,e,r,f)}),Math.min(1e3*Math.max(function(t){for(var e=1,r=0,o=Math.abs(t);t>=n[r]&&r<n.length;r++)t/=n[r],e*=n[r];return o=(o%=e)?e-o:e,Math.ceil(o)}(m),s||1),2147483647));c[d]=0,function(t,e){t.setAttribute("timeago-id",e)}(t,d)}function f(t){t?p(a(t)):Object.keys(c).forEach(p)}var l,s=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(){return(m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.dom=null,t}return s(r,n),r.prototype.componentDidMount=function(){this.renderTimeAgo()},r.prototype.componentDidUpdate=function(){this.renderTimeAgo()},r.prototype.renderTimeAgo=function(){var t,n=this.props,r=n.live,o=n.datetime,i=n.locale,a=n.opts;f(this.dom),!1!==r&&(this.dom.setAttribute("datetime",""+((t=o)instanceof Date?t.getTime():t)),function(t,n,r){var o=t.length?t:[t];o.forEach((function(t){u(t,function(t){return t.getAttribute("datetime")}(t),e(n),r||{})}))}(this.dom,i,a))},r.prototype.componentWillUnmount=function(){f(this.dom)},r.prototype.render=function(){var n=this,r=this.props,a=r.datetime;r.live;var c=r.locale,p=r.opts,u=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(r,["datetime","live","locale","opts"]);return t.createElement("time",m({ref:function(t){n.dom=t}},u),function(t,n,r){return o(i(t,r&&r.relativeDate),e(n))}(a,c,p))},r.defaultProps={live:!0,className:""},r}(t.Component);export{d as T};
